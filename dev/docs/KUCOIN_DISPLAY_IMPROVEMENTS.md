# üìä –£–ª—É—á—à–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–µ–π–∫–∏–Ω–≥–æ–≤ KuCoin

**–î–∞—Ç–∞:** 2026-01-14
**–í–µ—Ä—Å–∏—è:** 1.0

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Å—Ç–µ–π–∫–∏–Ω–≥–æ–≤ KuCoin –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ:
- üí∞ –ú–æ–Ω–µ—Ç–∞ | APR | –°—Ä–æ–∫
- üìä –°—Ç–∞—Ç—É—Å (ONGOING/INTERESTING)

**–ü—Ä–∏–º–µ—Ä:**
```
üí∞ MIN | 220.0% APR | 14 –¥–Ω–µ–π
üìä –°—Ç–∞—Ç—É—Å: ‚ö™Ô∏è INTERESTING
```

–•–æ—Ç—è KuCoin API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
- **category**: ACTIVITY (–ê–∫—Ü–∏—è) / DEMAND (–°–±–µ—Ä–µ–∂–µ–Ω–∏—è)
- **type**: MULTI_TIME (–°—Ä–æ—á–Ω—ã–π) / SAVING (–ì–∏–±–∫–∏–π)
- **category_text**: –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ –ë–î

**–§–∞–π–ª:** `data/models.py`

```python
class StakingHistory(Base):
    # ...
    category = Column(String, nullable=True)  # 'ACTIVITY', 'DEMAND' (Kucoin)
    category_text = Column(String, nullable=True)  # –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    # ...
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î

**–§–∞–π–ª:** `bot/parser_service.py`

```python
new_staking_record = StakingHistory(
    # ...
    category=staking.get('category'),
    category_text=staking.get('category_text'),  # ‚Üê –ù–û–í–û–ï –ü–û–õ–ï
    # ...
)
```

### 3. –£–ª—É—á—à–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–§–∞–π–ª:** `bot/notification_service.py`

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "üè∑ –¢–∏–ø:" –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

**–ö–∞—Ç–µ–≥–æ—Ä–∏—é:**
- `ACTIVITY` ‚Üí üéØ –ê–∫—Ü–∏—è
- `DEMAND` ‚Üí üí∞ –°–±–µ—Ä–µ–∂–µ–Ω–∏—è
- –î—Ä—É–≥–∏–µ ‚Üí üìÇ (–Ω–∞–∑–≤–∞–Ω–∏–µ)

**–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞:**
- `MULTI_TIME` ‚Üí ‚è± –°—Ä–æ—á–Ω—ã–π
- `SAVING` ‚Üí üîÑ –ì–∏–±–∫–∏–π
- –î—Ä—É–≥–∏–µ ‚Üí üîñ (–Ω–∞–∑–≤–∞–Ω–∏–µ)

### 4. –ù–æ–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞

**–≠–º–æ–¥–∑–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤:**
- `ONGOING` ‚Üí ‚úÖ (–∞–∫—Ç–∏–≤–Ω—ã–π)
- `INTERESTING` ‚Üí ‚≠ê (–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π)
- `SOLD OUT` ‚Üí üî¥ (—Ä–∞—Å–ø—Ä–æ–¥–∞–Ω)
- –î—Ä—É–≥–∏–µ ‚Üí ‚ö™ (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π)

---

## üìù –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞

**–î–û:**
```
üí∞ MIN | 220.0% APR | 14 –¥–Ω–µ–π
üìä –°—Ç–∞—Ç—É—Å: ‚ö™Ô∏è INTERESTING
```

**–ü–û–°–õ–ï:**
```
üí∞ MIN | 220.0% APR | 14 –¥–Ω–µ–π
üìä –°—Ç–∞—Ç—É—Å: ‚≠ê INTERESTING
üè∑ –¢–∏–ø: üéØ –ê–∫—Ü–∏—è | ‚è± –°—Ä–æ—á–Ω—ã–π
```

---

## üóÑÔ∏è –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î

**–§–∞–π–ª:** `dev/scripts/add_category_text_field.py`

–°–∫—Ä–∏–ø—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ `category_text` –≤ —Ç–∞–±–ª–∏—Ü—É `staking_history`.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
python dev/scripts/add_category_text_field.py
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

---

## üìä –î–∞–Ω–Ω—ã–µ –∏–∑ KuCoin API

### –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

**category:**
- `ACTIVITY` - –ü—Ä–æ–º–æ-–∞–∫—Ü–∏–∏ —Å –≤—ã—Å–æ–∫–∏–º APR
- `DEMAND` - –û–±—ã—á–Ω—ã–µ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è

**type:**
- `MULTI_TIME` - –°—Ä–æ—á–Ω—ã–π —Å—Ç–µ–π–∫–∏–Ω–≥ (Fixed)
- `SAVING` - –ì–∏–±–∫–∏–π —Å—Ç–µ–π–∫–∏–Ω–≥ (Flexible)

**status:**
- `ONGOING` - –ê–∫—Ç–∏–≤–Ω—ã–π, –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Å—Ç–µ–π–∫–∏–Ω–≥–∞
- `INTERESTING` - –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π, —Å–∫–æ—Ä–æ –Ω–∞—á–Ω–µ—Ç—Å—è
- `SOLDOUT` - –†–∞—Å–ø—Ä–æ–¥–∞–Ω

**category_text:** (–Ω–∞ —Ä—É—Å—Å–∫–æ–º)
- "–ê–∫—Ü–∏—è"
- "–°–±–µ—Ä–µ–∂–µ–Ω–∏—è"

---

## üîÑ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –®–∞–≥–∏:
1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å –ë–î (`data/models.py`)
2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (`bot/parser_service.py`)
3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (`bot/notification_service.py`)
4. ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î

### –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—É—Å–∫:
–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –ø–∞—Ä—Å–∏–Ω–≥–µ KuCoin —Å—Ç–µ–π–∫–∏–Ω–≥–æ–≤ –ø–æ–ª–µ `category_text` –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö.

---

## üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### KuCoin –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—É–±–ª–∏—á–Ω–æ:
- ‚ùå –î–∞–Ω–Ω—ã–µ –æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ (fill_percentage)
- ‚ùå –õ–∏–º–∏—Ç—ã –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (user_limit)
- ‚ùå –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (max_capacity)
- ‚ùå –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞

–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º API –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

### –ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–ª—è KuCoin:
- ‚úÖ –ú–æ–Ω–µ—Ç–∞ –∏ APR
- ‚úÖ –°—Ä–æ–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- ‚úÖ –°—Ç–∞—Ç—É—Å
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–ê–∫—Ü–∏—è/–°–±–µ—Ä–µ–∂–µ–Ω–∏—è)
- ‚úÖ –¢–∏–ø (–°—Ä–æ—á–Ω—ã–π/–ì–∏–±–∫–∏–π)
- ‚ùå –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ)
- ‚ùå –õ–∏–º–∏—Ç—ã (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ)
- ‚ùå –ü–µ—Ä–∏–æ–¥ (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ)

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ–ª–Ω—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ç–µ–π–∫–∏–Ω–≥–∞—Ö KuCoin, –≤–∫–ª—é—á–∞—è:
- –ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç–∞—Ç—É—Å–∞ (‚≠ê –¥–ª—è INTERESTING)
- –ö–∞—Ç–µ–≥–æ—Ä–∏—é –ø—Ä–æ–¥—É–∫—Ç–∞ (–ê–∫—Ü–∏—è/–°–±–µ—Ä–µ–∂–µ–Ω–∏—è)
- –¢–∏–ø —Å—Ç–µ–π–∫–∏–Ω–≥–∞ (–°—Ä–æ—á–Ω—ã–π/–ì–∏–±–∫–∏–π)

–≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è —Å—Ç–µ–π–∫–∏–Ω–≥–∞ –∏ –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –æ–± —É—á–∞—Å—Ç–∏–∏.

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞**
