# ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–Ω–æ–Ω—Å–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Å—ã–ª–∫–∏ –≤ –∞–Ω–æ–Ω—Å–∞—Ö –≤ —Ä–∞–∑–¥–µ–ª–µ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥":
- –ù–µ –±—ã–ª–æ —Ä–∞–∑–¥–µ–ª–∞ —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
- –ù–µ –±—ã–ª–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞ (—Å—Ç—Ä–∞—Ç–µ–≥–∏–π)
- –ù–µ–ª—å–∑—è –±—ã–ª–æ –≤—ã–±—Ä–∞—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –∏–ª–∏ —Å–º–µ–Ω–∏—Ç—å –µ–≥–æ

## –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `show_parsing_configuration`
–î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ `announcement`:
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ (—Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏)
- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è `any_keyword` –∏–ª–∏ `all_keywords`)
- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è `element_change`)
- –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è `regex`)
- HTML URL

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_configure_parsing_submenu`
–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–Ω–æ–Ω—Å–æ–≤:
- üìã –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–∞—Ä—Å–∏–Ω–≥–∞
- üåê –ò–∑–º–µ–Ω–∏—Ç—å HTML URL
- üîë –ò–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- üéØ –ò–∑–º–µ–Ω–∏—Ç—å CSS —Å–µ–ª–µ–∫—Ç–æ—Ä
- ‚ö° –ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

### 3. –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è
```python
class ConfigureParsingStates(StatesGroup):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è ...
    
    # –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–Ω–æ–Ω—Å–æ–≤:
    waiting_for_announcement_strategy_edit = State()
    waiting_for_announcement_keywords_edit = State()
    waiting_for_announcement_regex_edit = State()
    waiting_for_announcement_css_edit = State()
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- `edit_announcement_strategy` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- `set_announcement_strategy` - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
- `edit_announcement_keywords` - –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `process_announcement_keywords_edit` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–≤–æ–¥ –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
- `edit_announcement_css` - –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `process_announcement_css_edit` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–≤–æ–¥ –Ω–æ–≤–æ–≥–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- `edit_announcement_regex` - –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `process_announcement_regex_edit` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–≤–æ–¥ –Ω–æ–≤–æ–≥–æ regex (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞

1. **üîÑ –õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** (`any_change`)
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ª—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

2. **üéØ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç–ª–µ–º–µ–Ω—Ç–µ** (`element_change`)
   - –¢—Ä–µ–±—É–µ—Ç CSS —Å–µ–ª–µ–∫—Ç–æ—Ä
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ

3. **üîë –õ—é–±–æ–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ** (`any_keyword`)
   - –¢—Ä–µ–±—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
   - –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞

4. **üìö –í—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞** (`all_keywords`)
   - –¢—Ä–µ–±—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
   - –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–∞–π–¥–µ–Ω—ã –≤—Å–µ —Å–ª–æ–≤–∞

5. **‚ö° –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ** (`regex`)
   - –¢—Ä–µ–±—É–µ—Ç regex –ø–∞—Ç—Ç–µ—Ä–Ω
   - –ü–æ–∏—Å–∫ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/manage`
2. –í—ã–±–µ—Ä–∏—Ç–µ "üéØ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Å—ã–ª–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ `announcement`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
   - **üìã –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–∞—Ä—Å–∏–Ω–≥–∞** - –≤—ã–±–æ—Ä –∏–∑ 5 —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
   - **üîë –ò–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞** - –≤–≤–æ–¥ —Å–ª–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
   - **üéØ –ò–∑–º–µ–Ω–∏—Ç—å CSS —Å–µ–ª–µ–∫—Ç–æ—Ä** - –≤–≤–æ–¥ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ (–¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ element_change)
   - **‚ö° –ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ** - –≤–≤–æ–¥ regex (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)
   - **üåê –ò–∑–º–µ–Ω–∏—Ç—å HTML URL** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∞–Ω–æ–Ω—Å–æ–≤

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
```
/manage -> üéØ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ -> –í—ã–±—Ä–∞—Ç—å —Å—Å—ã–ª–∫—É -> üìã –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–∞—Ä—Å–∏–Ω–≥–∞
```
–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω—É –∏–∑ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤ –º–µ–Ω—é.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
```
/manage -> üéØ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ -> –í—ã–±—Ä–∞—Ç—å —Å—Å—ã–ª–∫—É -> üîë –ò–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
```
–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é:
```
airdrop, listing, 0% fee, bonus
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
```
/manage -> üéØ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ -> –í—ã–±—Ä–∞—Ç—å —Å—Å—ã–ª–∫—É -> üéØ –ò–∑–º–µ–Ω–∏—Ç—å CSS —Å–µ–ª–µ–∫—Ç–æ—Ä
```
–í–≤–µ–¥–∏—Ç–µ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä:
```
div.announcement-item
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
```
/manage -> üéØ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ -> –í—ã–±—Ä–∞—Ç—å —Å—Å—ã–ª–∫—É -> ‚ö° –ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
```
–í–≤–µ–¥–∏—Ç–µ regex –ø–∞—Ç—Ç–µ—Ä–Ω:
```
airdrop.*listing
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è

- **–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞**: –ù–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏, —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –ø–æ –∑–∞–ø—è—Ç–æ–π
- **CSS —Å–µ–ª–µ–∫—Ç–æ—Ä**: –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º
- **–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é `re.compile()`

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:
```bash
python dev/tests/test_announcement_edit.py
```

–¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –ù–∞–ª–∏—á–∏–µ –ø–æ–ª–µ–π –≤ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- –ú–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏/–ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `bot/handlers.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `dev/tests/test_announcement_edit.py` - —Ç–µ—Å—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `dev/docs/ANNOUNCEMENT_EDIT_FEATURE.md` - —ç—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º:
- –ù–µ –∏–∑–º–µ–Ω–µ–Ω–∞ —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–≤—Å–µ –ø–æ–ª—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–∏)
- –ù–µ –∏–∑–º–µ–Ω–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
