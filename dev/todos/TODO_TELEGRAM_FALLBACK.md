# TODO: Fallback —Å–∏—Å—Ç–µ–º–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Telegram –∞–∫–∫–∞—É–Ω—Ç–æ–≤

**–ü–†–ò–û–†–ò–¢–ï–¢**: –°–†–ï–î–ù–ò–ô (–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è UI)
**–°–¢–ê–¢–£–°**: –ó–ê–í–ï–†–®–ï–ù–û
**–î–ê–¢–ê –°–û–ó–î–ê–ù–ò–Ø**: 2026-01-05
**–î–ê–¢–ê –ó–ê–í–ï–†–®–ï–ù–ò–Ø**: 2026-01-07

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∞–∫–∫–∞—É–Ω—Ç–∞

### –û–ø–∏—Å–∞–Ω–∏–µ
–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –∞–∫—Ç–∏–≤–Ω—ã–π Telegram –∞–∫–∫–∞—É–Ω—Ç –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1.1 –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –∫–∞–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É:
- `PhoneNumberBannedError` - –Ω–æ–º–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- `AuthKeyUnregisteredError` - —Å–µ—Å—Å–∏—è –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–∞
- `UserDeactivatedBanError` - –∞–∫–∫–∞—É–Ω—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- `FloodWaitError` —Å –±–æ–ª—å—à–∏–º timeout (> 1 —á–∞—Å) - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

#### 1.2 –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
1. –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:
   - –ü–æ–º–µ—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∞–∫–∫–∞—É–Ω—Ç –∫–∞–∫ `is_blocked=True` –≤ –ë–î
   - –ó–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±–æ—Ç–∞

2. –í—ã–±–æ—Ä —Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:
   - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ `is_active=True AND is_authorized=True AND is_blocked=False`
   - –í—ã–±—Ä–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ (load balancing)
   - –ï—Å–ª–∏ –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã ‚Üí —É–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥

3. –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏:
   - –û–±–Ω–æ–≤–∏—Ç—å `ApiLink.telegram_account_id` –Ω–∞ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
   - –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–∞–Ω–∞–ª—É —Å –Ω–æ–≤—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º
   - –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥

### –§–∞–π–ª—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### 1. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö: `data/models.py`
```python
# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ TelegramAccount:
is_blocked = Column(Boolean, default=False)
blocked_at = Column(DateTime, nullable=True)
blocked_reason = Column(String, nullable=True)  # –¢–∏–ø –æ—à–∏–±–∫–∏
```

```python
# –î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å –≤ ApiLink:
telegram_account_id = Column(Integer, ForeignKey('telegram_accounts.id'), nullable=True)
telegram_account = relationship("TelegramAccount", backref="assigned_links")
```

#### 2. –ü–∞—Ä—Å–µ—Ä: `parsers/telegram_parser.py`
```python
# –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ TelegramParser:
async def handle_client_error(self, account_id: int, error: Exception) -> bool:
    """
    –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–ª–∏–µ–Ω—Ç–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

    Returns:
        bool: True –µ—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏ –Ω—É–∂–µ–Ω fallback
    """
    # –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É
    # –ü–æ–º–µ—Ç–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –≤ –ë–î
    # –í–µ—Ä–Ω—É—Ç—å True –µ—Å–ª–∏ –Ω—É–∂–µ–Ω fallback
```

```python
async def switch_account_for_link(self, link_id: int, old_account_id: int) -> Optional[int]:
    """
    –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Å—ã–ª–∫–∏

    Args:
        link_id: ID —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
        old_account_id: ID –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

    Returns:
        int: ID –Ω–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–ª–∏ None –µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å
    """
    # –ù–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
    # –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å—Å—ã–ª–∫—É
    # –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–∞–Ω–∞–ª—É
    # –í–µ—Ä–Ω—É—Ç—å –Ω–æ–≤—ã–π account_id
```
```

#### 3. –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: `bot/notification_service.py`
```python
# –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥:
async def notify_account_blocked(self, account_name: str, reason: str, new_account: Optional[str]):
    """–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏"""
    message = (
        f"‚ö†Ô∏è <b>Telegram –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</b>\n\n"
        f"<b>–ê–∫–∫–∞—É–Ω—Ç:</b> {account_name}\n"
        f"<b>–ü—Ä–∏—á–∏–Ω–∞:</b> {reason}\n"
    )

    if new_account:
        message += f"\n‚úÖ <b>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞:</b> {new_account}"
    else:
        message += f"\n‚ùå <b>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –¥–ª—è –∑–∞–º–µ–Ω—ã!</b>"

    await self.send_message(message)
```

#### 4. –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫: `services/scheduler.py`
```python
# –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É Telegram –ø–∞—Ä—Å–∏–Ω–≥–∞:
async def check_telegram_link(self, link):
    try:
        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø–∞—Ä—Å–∏–Ω–≥–∞
    except Exception as e:
        # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ—à–∏–±–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
        if await self.telegram_parser.handle_client_error(link.telegram_account_id, e):
            # –ü–æ–ø—ã—Ç–∫–∞ fallback
            new_account_id = await self.telegram_parser.switch_account_for_link(
                link.id,
                link.telegram_account_id
            )

            if new_account_id:
                logger.info(f"‚úÖ Fallback —É—Å–ø–µ—à–µ–Ω: account {new_account_id}")
                # –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ —Å –Ω–æ–≤—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º
                return await self.check_telegram_link(link)
            else:
                logger.error(f"‚ùå Fallback –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –¥–ª—è link {link.id}")
                # –£–≤–µ–¥–æ–º–∏—Ç—å –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ —ç—Ç–æ–π —Å—Å—ã–ª–∫–∏
```

### –ó–∞–¥–∞—á–∏

- [x] **–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î**: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ TelegramAccount
  - `is_blocked`, `blocked_at`, `blocked_reason`

- [x] **–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î**: –î–æ–±–∞–≤–∏—Ç—å —Å–≤—è–∑—å ApiLink ‚Üî TelegramAccount
  - `telegram_account_id` foreign key

- [x] **TelegramParser**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handle_client_error()`
  - –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ –ë–î
  - –í–æ–∑–≤—Ä–∞—Ç —Ñ–ª–∞–≥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ fallback

- [x] **TelegramParser**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `switch_account_for_link()`
  - –ü–æ–∏—Å–∫ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ —Å load balancing
  - –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ë–î
  - –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–∞–Ω–∞–ª—É

- [x] **NotificationService**: –î–æ–±–∞–≤–∏—Ç—å `notify_account_blocked()`
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

- [x] **Scheduler**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å fallback –≤ –ø—Ä–æ–≤–µ—Ä–∫—É Telegram —Å—Å—ã–ª–æ–∫
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ telegram_parser.py:connect()
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ telegram_monitor.py:start()
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–º–µ—Ç–∫–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

- [ ] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å `dev/tests/test_telegram_fallback.py`
  - –°–∏–º—É–ª—è—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å 2: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–æ–π Telegram –∞–∫–∫–∞—É–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∞–∂–¥–æ–π —Å—Å—ã–ª–∫–∏ –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö:
1. –í —Å–ø–∏—Å–∫–µ —Å—Å—ã–ª–æ–∫
2. –í –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Å—ã–ª–∫–æ–π

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 2.1 –í —Å–ø–∏—Å–∫–µ —Å—Å—ã–ª–æ–∫
–ü—Ä–∏ –ø–æ–∫–∞–∑–µ —Å–ø–∏—Å–∫–∞ —Å—Å—ã–ª–æ–∫ (üìä –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫) –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ:

```
üìä –í–∞—à–∏ API —Å—Å—ã–ª–∫–∏:

1Ô∏è‚É£ üí∞ BybitEARN (–°—Ç–µ–π–∫–∏–Ω–≥)
   üì± TG: @my_account_1
   ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ | ‚è± 300 —Å–µ–∫
   üì° API | üîó t.me/bybit_announcements

2Ô∏è‚É£ ü™Ç Binance Airdrop
   üì± TG: @my_account_2
   ‚ùå –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ | ‚è± 600 —Å–µ–∫
   üì± Telegram | üîó t.me/binance
```

#### 2.2 –í –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–∫–æ–π
–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–µ–Ω—é –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è —Å—Å—ã–ª–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç:

```
‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–æ–π: BybitEARN

–°—Ç–∞—Ç—É—Å: ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞
–ö–∞—Ç–µ–≥–æ—Ä–∏—è: staking
–ò–Ω—Ç–µ—Ä–≤–∞–ª: 300—Å (5 –º–∏–Ω)
–¢–∏–ø –ø–∞—Ä—Å–∏–Ω–≥–∞: Telegram
üì± Telegram –∞–∫–∫–∞—É–Ω—Ç: @my_account_1 (ID: 79001234567)
üîó –ö–∞–Ω–∞–ª: @bybit_announcements

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:
[–∫–Ω–æ–ø–∫–∏...]
```

#### 2.3 –ò–∫–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–∞
- ‚úÖ - –∞–∫–∫–∞—É–Ω—Ç –∞–∫—Ç–∏–≤–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è - –∞–∫–∫–∞—É–Ω—Ç –≤ —Ä–µ–∂–∏–º–µ FloodWait
- ‚ùå - –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- üí§ - –∞–∫–∫–∞—É–Ω—Ç –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω (–æ—Ç–∫–ª—é—á–µ–Ω –≤—Ä—É—á–Ω—É—é)

### –§–∞–π–ª—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### 1. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: `bot/handlers.py`

**–§—É–Ω–∫—Ü–∏—è `menu_list_links()`** (—Å—Ç—Ä–æ–∫–∞ ~403):
```python
@router.message(F.text == "üìä –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫")
async def menu_list_links(message: Message):
    try:
        with get_db_session() as db:
            links = db.query(ApiLink).all()

            if not links:
                await message.answer("üìä –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫")
                return

            response = "üìä –í–∞—à–∏ API —Å—Å—ã–ª–∫–∏:\n\n"
            for idx, link in enumerate(links, 1):
                status = "‚úÖ –ê–∫—Ç–∏–≤–Ω–∞" if link.is_active else "‚ùå –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞"
                interval_minutes = link.check_interval // 60

                # –ö–∞—Ç–µ–≥–æ—Ä–∏—è
                category_icons = {
                    'airdrop': 'ü™Ç',
                    'staking': 'üí∞',
                    'launchpool': 'üöÄ',
                    'announcement': 'üì¢'
                }
                category_icon = category_icons.get(link.category, 'üìÅ')
                category_name = link.category or 'general'

                # –ù–û–í–û–ï: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞
                tg_account_info = ""
                if link.parsing_type == 'telegram' and link.telegram_account:
                    account = link.telegram_account

                    # –ò–∫–æ–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–∞
                    if account.is_blocked:
                        account_status = "‚ùå"
                    elif not account.is_active:
                        account_status = "üí§"
                    else:
                        account_status = "‚úÖ"

                    # –ò–º—è –∞–∫–∫–∞—É–Ω—Ç–∞ (–æ–±—Ä–µ–∑–∞—Ç—å –µ—Å–ª–∏ –¥–ª–∏–Ω–Ω–æ–µ)
                    account_name = account.name[:15] + "..." if len(account.name) > 15 else account.name

                    tg_account_info = f"   üì± TG: {account_status} {account_name}\n"

                response += (
                    f"{idx}Ô∏è‚É£ {category_icon} {link.name} ({category_name})\n"
                    f"{tg_account_info}"
                    f"   {status} | ‚è± {interval_minutes} –º–∏–Ω\n"
                )

                # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

**–§—É–Ω–∫—Ü–∏—è `handle_link_action()`** (—Å—Ç—Ä–æ–∫–∞ ~1543):
```python
@router.callback_query(F.data.startswith("manage_link_"))
async def handle_link_action(callback: CallbackQuery):
    try:
        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è link

        # –ù–û–í–û–ï: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Telegram –∞–∫–∫–∞—É–Ω—Ç–µ
        telegram_info = ""
        if link.parsing_type == 'telegram':
            if link.telegram_account:
                account = link.telegram_account

                # –°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞
                if account.is_blocked:
                    account_status = "‚ùå –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω"
                    blocked_info = f" (—Å {account.blocked_at.strftime('%d.%m.%Y %H:%M')})"
                    account_status += blocked_info
                elif not account.is_active:
                    account_status = "üí§ –ù–µ–∞–∫—Ç–∏–≤–µ–Ω"
                else:
                    account_status = "‚úÖ –ê–∫—Ç–∏–≤–µ–Ω"

                telegram_info = (
                    f"<b>üì± Telegram –∞–∫–∫–∞—É–Ω—Ç:</b> {account.name}\n"
                    f"<b>   –ù–æ–º–µ—Ä:</b> +{account.phone_number}\n"
                    f"<b>   –°—Ç–∞—Ç—É—Å:</b> {account_status}\n"
                )

                # –ö–∞–Ω–∞–ª
                if link.telegram_channel:
                    telegram_info += f"<b>üîó –ö–∞–Ω–∞–ª:</b> {link.telegram_channel}\n"
            else:
                telegram_info = "<b>üì± Telegram –∞–∫–∫–∞—É–Ω—Ç:</b> ‚ö†Ô∏è –ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω\n"

        await callback.message.edit_text(
            f"‚öôÔ∏è <b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–æ–π:</b> {link.name}\n\n"
            f"<b>–°—Ç–∞—Ç—É—Å:</b> {status_text}\n"
            f"<b>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</b> {link.category or 'general'}\n"
            f"<b>–ò–Ω—Ç–µ—Ä–≤–∞–ª:</b> {link.check_interval}—Å ({link.check_interval // 60} –º–∏–Ω)\n"
            f"<b>–¢–∏–ø –ø–∞—Ä—Å–∏–Ω–≥–∞:</b> {parsing_type_text}\n"
            f"{telegram_info}\n"  # –ù–û–í–û–ï
            f"–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
            reply_markup=keyboard,
            parse_mode="HTML"
        )
        # ...
```

#### 2. –§—É–Ω–∫—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã: `bot/handlers.py`

**–§—É–Ω–∫—Ü–∏—è `get_links_keyboard()`** (—Å—Ç—Ä–æ–∫–∞ ~190):
```python
def get_links_keyboard(links, action_type="delete"):
    builder = InlineKeyboardBuilder()

    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∏–∫–æ–Ω–æ–∫

    for link in links:
        status_icon = "‚úÖ" if link.is_active else "‚ùå"

        # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ parsing_icon, category_icon

        # –ù–û–í–û–ï: –ò–∫–æ–Ω–∫–∞ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞
        telegram_icon = ""
        if hasattr(link, 'telegram_account') and link.telegram_account:
            if link.telegram_account.is_blocked:
                telegram_icon = " üö´"
            elif not link.telegram_account.is_active:
                telegram_icon = " üí§"
            elif link.parsing_type == 'telegram':
                telegram_icon = " üì±"

        # –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
        button_text = f"{status_icon} {category_icon}{parsing_icon}{link.name}{telegram_icon}"

        # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

### –ó–∞–¥–∞—á–∏

- [x] **menu_list_links()**: –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ —Å–ø–∏—Å–∫–µ
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ —á–µ—Ä–µ–∑ relationship
  - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏–∫–æ–Ω–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞
  - –û–±—Ä–µ–∑–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –∏–º–µ–Ω

- [x] **show_link_management()**: –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –∏–º—è, –Ω–æ–º–µ—Ä, —Å—Ç–∞—Ç—É—Å
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ –µ—Å–ª–∏ –µ—Å—Ç—å
  - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –µ—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω

- [x] **get_management_keyboard()**: –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É —Å–º–µ–Ω—ã –∞–∫–∫–∞—É–Ω—Ç–∞
  - –ö–Ω–æ–ø–∫–∞ "üì± –°–º–µ–Ω–∏—Ç—å Telegram –∞–∫–∫–∞—É–Ω—Ç" –¥–ª—è telegram —Å—Å—ã–ª–æ–∫
  - –£—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è telegram —Ç–∏–ø–∞

- [x] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  - –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
  - –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å/–±–µ–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
  - –ö–Ω–æ–ø–∫–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –∞–∫–∫–∞—É–Ω—Ç–æ–≤

### –û–ø–∏—Å–∞–Ω–∏–µ
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—Ä—É—á–Ω—É—é –Ω–∞–∑–Ω–∞—á–∞—Ç—å/–º–µ–Ω—è—Ç—å Telegram –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ UI.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–æ–±–∞–≤–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–∫–æ–π:
- "üì± –°–º–µ–Ω–∏—Ç—å Telegram –∞–∫–∫–∞—É–Ω—Ç" (—Ç–æ–ª—å–∫–æ –¥–ª—è telegram —Å—Å—ã–ª–æ–∫)

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏:
1. –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (is_active=True, is_authorized=True)
2. –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π –∞–∫–∫–∞—É–Ω—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å) —Å –ø–æ–º–µ—Ç–∫–æ–π "‚úÖ –¢–µ–∫—É—â–∏–π"
3. –ü–æ–∑–≤–æ–ª–∏—Ç—å –≤—ã–±—Ä–∞—Ç—å –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
4. –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è

### –§–∞–π–ª—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### 1. –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞: `bot/handlers.py`
```python
def get_management_keyboard():
    builder = InlineKeyboardBuilder()
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–Ω–æ–ø–∫–∏
    builder.add(InlineKeyboardButton(text="üì± –°–º–µ–Ω–∏—Ç—å Telegram –∞–∫–∫–∞—É–Ω—Ç", callback_data="manage_change_tg_account"))
    # ...
```

#### 2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `bot/handlers.py`
```python
@router.callback_query(F.data == "manage_change_tg_account")
async def manage_change_tg_account(callback: CallbackQuery):
    """–°–º–µ–Ω–∞ Telegram –∞–∫–∫–∞—É–Ω—Ç–∞ –¥–ª—è —Å—Å—ã–ª–∫–∏"""
    try:
        user_id = callback.from_user.id
        link_id = user_selections.get(user_id)

        if not link_id:
            await callback.answer("‚ùå –°—Å—ã–ª–∫–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–∞", show_alert=True)
            return

        with get_db_session() as db:
            link = db.query(ApiLink).filter(ApiLink.id == link_id).first()

            if link.parsing_type != 'telegram':
                await callback.answer("‚ùå –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è Telegram —Å—Å—ã–ª–æ–∫", show_alert=True)
                return

            # –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã
            accounts = db.query(TelegramAccount).filter(
                TelegramAccount.is_active == True,
                TelegramAccount.is_authorized == True,
                TelegramAccount.is_blocked == False
            ).all()

            if not accounts:
                await callback.message.edit_text(
                    "‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö Telegram –∞–∫–∫–∞—É–Ω—Ç–æ–≤\n\n"
                    "–î–æ–±–∞–≤—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç —á–µ—Ä–µ–∑ üõ°Ô∏è –û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ ‚Üí üì± Telegram API"
                )
                return

            # –°–æ–∑–¥–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≤—ã–±–æ—Ä–∞
            builder = InlineKeyboardBuilder()
            for acc in accounts:
                # –ü–æ–º–µ—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ
                prefix = "‚úÖ " if acc.id == link.telegram_account_id else ""

                # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
                load_count = len(acc.assigned_links) if hasattr(acc, 'assigned_links') else 0

                button_text = f"{prefix}{acc.name} (+{acc.phone_number}) [{load_count} —Å—Å—ã–ª–æ–∫]"
                builder.add(InlineKeyboardButton(
                    text=button_text,
                    callback_data=f"assign_tg_account_{acc.id}"
                ))

            builder.add(InlineKeyboardButton(text="‚ùå –û—Ç–º–µ–Ω–∞", callback_data="manage_cancel"))
            builder.adjust(1)

            await callback.message.edit_text(
                f"üì± <b>–í—ã–±–µ—Ä–∏—Ç–µ Telegram –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è {link.name}:</b>\n\n"
                f"<i>‚úÖ - —Ç–µ–∫—É—â–∏–π –∞–∫–∫–∞—É–Ω—Ç\n"
                f"[N —Å—Å—ã–ª–æ–∫] - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫</i>",
                reply_markup=builder.as_markup(),
                parse_mode="HTML"
            )
            await callback.answer()

    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ —Å–º–µ–Ω—ã –∞–∫–∫–∞—É–Ω—Ç–∞: {e}")
        await callback.message.edit_text("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ –∞–∫–∫–∞—É–Ω—Ç–∞")
```

```python
@router.callback_query(F.data.startswith("assign_tg_account_"))
async def process_assign_tg_account(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞"""
    try:
        account_id = int(callback.data.split("_")[-1])
        user_id = callback.from_user.id
        link_id = user_selections.get(user_id)

        with get_db_session() as db:
            link = db.query(ApiLink).filter(ApiLink.id == link_id).first()
            account = db.query(TelegramAccount).filter(TelegramAccount.id == account_id).first()

            if not link or not account:
                await callback.answer("‚ùå –û—à–∏–±–∫–∞: –¥–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã", show_alert=True)
                return

            old_account_name = link.telegram_account.name if link.telegram_account else "–Ω–µ—Ç"

            # –ù–∞–∑–Ω–∞—á–∏—Ç—å –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
            link.telegram_account_id = account_id
            db.commit()

            await callback.message.edit_text(
                f"‚úÖ <b>Telegram –∞–∫–∫–∞—É–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω!</b>\n\n"
                f"<b>–°—Å—ã–ª–∫–∞:</b> {link.name}\n"
                f"<b>–°—Ç–∞—Ä—ã–π –∞–∫–∫–∞—É–Ω—Ç:</b> {old_account_name}\n"
                f"<b>–ù–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç:</b> {account.name} (+{account.phone_number})\n\n"
                f"<i>–ü–∞—Ä—Å–µ—Ä –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –∫–∞–Ω–∞–ª—É –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–µ</i>",
                parse_mode="HTML"
            )
            await callback.answer("‚úÖ –ê–∫–∫–∞—É–Ω—Ç –∏–∑–º–µ–Ω–µ–Ω")

    except Exception as e:
        logger.error(f"‚ùå –û—à–∏–±–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞: {e}")
        await callback.answer("‚ùå –û—à–∏–±–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è", show_alert=True)
```

### –ó–∞–¥–∞—á–∏

- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "üì± –°–º–µ–Ω–∏—Ç—å Telegram –∞–∫–∫–∞—É–Ω—Ç" –≤ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è telegram —Å—Å—ã–ª–æ–∫

- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `manage_change_tg_account()`
  - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
  - –ü–æ–º–µ—Ç–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫)

- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `process_assign_tg_account()`
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ë–î
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –ø–∞—Ä—Å–µ—Ä–æ–º
  - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
  - –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ monitor

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –≥–æ—Ç–æ–≤–æ–π, –∫–æ–≥–¥–∞:

1. **Fallback**: –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π
2. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
3. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –í —Å–ø–∏—Å–∫–µ —Å—Å—ã–ª–æ–∫ –∏ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–Ω–æ, –∫–∞–∫–æ–π –∞–∫–∫–∞—É–Ω—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω
4. **–°—Ç–∞—Ç—É—Å—ã**: –ò–∫–æ–Ω–∫–∏ –æ—Ç—Ä–∞–∂–∞—é—Ç —Å—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞ (–∞–∫—Ç–∏–≤–µ–Ω/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω/–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω)
5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–º–µ–Ω–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ UI
6. **Load balancing**: –ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞–≥—Ä—É–∑–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç-–∫–µ–π—Å 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback
1. –°–æ–∑–¥–∞—Ç—å 2 Telegram –∞–∫–∫–∞—É–Ω—Ç–∞
2. –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç 1 –Ω–∞ —Å—Å—ã–ª–∫—É
3. –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É (–≤—Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å is_blocked=True –∏–ª–∏ –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É)
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Å—ã–ª–∫–∏
5. **–û–∂–∏–¥–∞–Ω–∏–µ**:
   - –°—Å—ã–ª–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç 2
   - –ü–æ–ª—É—á–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∏ —Å–º–µ–Ω–µ
   - –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è

### –¢–µ—Å—Ç-–∫–µ–π—Å 2: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
1. –°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É —Å Telegram –ø–∞—Ä—Å–∏–Ω–≥–æ–º
2. –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
3. –û—Ç–∫—Ä—ã—Ç—å "üìä –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫"
4. **–û–∂–∏–¥–∞–Ω–∏–µ**: –í–∏–¥–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ —Å –∏–∫–æ–Ω–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞
5. –ó–∞–π—Ç–∏ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–æ–π —Å—Å—ã–ª–∫–æ–π
6. **–û–∂–∏–¥–∞–Ω–∏–µ**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ (–∏–º—è, –Ω–æ–º–µ—Ä, —Å—Ç–∞—Ç—É—Å, –∫–∞–Ω–∞–ª)

### –¢–µ—Å—Ç-–∫–µ–π—Å 3: –†—É—á–Ω–∞—è —Å–º–µ–Ω–∞ –∞–∫–∫–∞—É–Ω—Ç–∞
1. –ó–∞–π—Ç–∏ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Telegram —Å—Å—ã–ª–∫–æ–π
2. –ù–∞–∂–∞—Ç—å "üì± –°–º–µ–Ω–∏—Ç—å Telegram –∞–∫–∫–∞—É–Ω—Ç"
3. **–û–∂–∏–¥–∞–Ω–∏–µ**: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ —Å –ø–æ–º–µ—Ç–∫–æ–π —Ç–µ–∫—É—â–µ–≥–æ
4. –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –∞–∫–∫–∞—É–Ω—Ç
5. **–û–∂–∏–¥–∞–Ω–∏–µ**: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–º–µ–Ω—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ë–î

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤ `data/migrations/` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Alembic)
- –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç `dev/migrate_telegram_accounts.py` –¥–ª—è —Ä—É—á–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å–º–µ–Ω—ã –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –¥–ª—è audit trail
- –ü—Ä–∏ load balancing —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫, –Ω–æ –∏ —á–∞—Å—Ç–æ—Ç—É –ø—Ä–æ–≤–µ—Ä–æ–∫
