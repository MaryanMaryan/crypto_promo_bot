# TODO: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UI –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –±–æ—Ç–∞

**–ü–†–ò–û–†–ò–¢–ï–¢**: –í–´–°–û–ö–ò–ô (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
**–°–¢–ê–¢–£–°**: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–î–ê–¢–ê –°–û–ó–î–ê–ù–ò–Ø**: 2026-01-05
**–î–ê–¢–ê –ó–ê–í–ï–†–®–ï–ù–ò–Ø**: 2026-01-07

---

## –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π /start –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:", –Ω–æ —Å–∞–º–∏ –∫–Ω–æ–ø–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏.

### –¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –Ω–æ ReplyKeyboard –Ω–µ –≤–∏–¥–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –°–∫—Ä–∏–Ω—à–æ—Ç: Screenshot_2.png –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ –≤–º–µ—Å—Ç–æ –∫–Ω–æ–ø–æ–∫

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–Ω–æ–ø–∫–∏: "üìä –°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫", "‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É", "‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏", "üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å—ë", "üõ°Ô∏è –û–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫"

### –§–∞–π–ª—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- `bot/handlers.py:368-378` - —Ñ—É–Ω–∫—Ü–∏—è `cmd_start()`
- `bot/handlers.py:137-146` - —Ñ—É–Ω–∫—Ü–∏—è `get_main_menu()`

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã
1. ReplyKeyboard —É–¥–∞–ª—è–µ—Ç—Å—è –ø—Ä–∏ –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –∏ –Ω–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
2. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä ReplyKeyboard —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
3. –ù—É–∂–Ω–æ —è–≤–Ω–æ –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å ReplyKeyboard –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

### –ó–∞–¥–∞—á–∏
- [x] –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å, –∫–æ–≥–¥–∞ –∏ –≥–¥–µ ReplyKeyboard —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –º–µ—Å—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- [x] –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω–æ–µ –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ReplyKeyboard –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `back_to_main_menu_handler` (—Å—Ç—Ä–æ–∫–∞ 1927-1936)
- [x] –î–æ–±–∞–≤–∏—Ç—å `reply_markup=get_main_menu()` –≤–æ –≤—Å–µ –≤–æ–∑–≤—Ä–∞—Ç—ã –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã: inline –º–µ–Ω—é ‚Üí –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí –∫–Ω–æ–ø–∫–∏ –≤–∏–¥–Ω—ã

---

## –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –¥–µ–π—Å—Ç–≤–∏–π

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –¥–µ–π—Å—Ç–≤–∏–π –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "‚ùå –î–µ–π—Å—Ç–≤–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ" –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

### –¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—Ç–º–µ–Ω—ã (`process_new_systems_cancel`) –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å "–∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç" –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –í–°–ï–ì–î–ê –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–Ω–æ–ø–∫–∏ "‚¨ÖÔ∏è –ù–∞–∑–∞–¥" –∏ "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"

### –§–∞–π–ª—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `bot/handlers.py:3882-3888` - `process_new_systems_cancel()` - –ù–ï–¢ –ö–õ–ê–í–ò–ê–¢–£–†–´!
- `bot/handlers.py:1861-1870` - `process_cancel()` - –µ—Å—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ (—Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä)

### –ó–∞–¥–∞—á–∏
- [x] –ù–∞–π—Ç–∏ –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—Ç–º–µ–Ω—ã –±–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- [x] –î–æ–±–∞–≤–∏—Ç—å `reply_markup=get_cancel_keyboard_with_navigation()` –≤–æ –≤—Å–µ –æ—Ç–º–µ–Ω—ã
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Ç–º–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏–π
- [x] –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—Ç–º–µ–Ω—ã —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–º–µ–Ω—É –≤–æ –≤—Å–µ—Ö —Å–µ–∫—Ü–∏—è—Ö: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏, –ø—Ä–æ–∫—Å–∏, UA, —Ä–æ—Ç–∞—Ü–∏—è

### Grep –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º
```bash
# –ù–∞–π—Ç–∏ –≤—Å–µ –º–µ—Å—Ç–∞ —Å "–î–µ–π—Å—Ç–≤–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ" –±–µ–∑ reply_markup
grep -n "–î–µ–π—Å—Ç–≤–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ" bot/handlers.py
```

---

## –ü—Ä–æ–±–ª–µ–º–∞ 3: –î–≤–æ–π–Ω–æ–π –≤—ã–±–æ—Ä —Å—Å—ã–ª–∫–∏ –ø—Ä–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏

### –û–ø–∏—Å–∞–Ω–∏–µ
–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –≤:
1. "‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏"
2. –í—ã–±–∏—Ä–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, "üí∞ –°—Ç–µ–π–∫–∏–Ω–≥")
3. –í—ã–±–∏—Ä–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Å—ã–ª–∫—É
4. –ù–∞–∂–∏–º–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫—É")
5. **–ë–û–¢ –°–ù–û–í–ê –ü–†–û–°–ò–¢ –í–´–ë–†–ê–¢–¨ –°–°–´–õ–ö–£ –î–õ–Ø –£–î–ê–õ–ï–ù–ò–Ø!**

### –¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É link_id —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `user_selections[user_id]`
- –ù–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π (`manage_delete`, `manage_rename`, `manage_interval`) –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç —ç—Ç–æ
- –û–Ω–∏ —Å–Ω–æ–≤–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞ —à–∞–≥–µ 3, –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è —Å—Ä–∞–∑—É –≤—ã–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –¥–ª—è —ç—Ç–æ–π —Å—Å—ã–ª–∫–∏
- –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –ø–æ–≤—Ç–æ—Ä–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- `bot/handlers.py:1739-1771` - `manage_delete()` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–Ω–æ–≤–∞
- `bot/handlers.py:1938-1970` - `manage_interval()` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–Ω–æ–≤–∞
- `bot/handlers.py:1972-2001` - `manage_rename()` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–Ω–æ–≤–∞
- `bot/handlers.py:2245-2278` - `manage_pause()` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç user_selections, –Ω–æ —Ç–æ–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫
- `bot/handlers.py:2280-2313` - `manage_resume()` - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

### –ó–∞–¥–∞—á–∏
- [x] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `manage_delete()`: –ø—Ä–æ–≤–µ—Ä—è—Ç—å `user_selections` –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º —Å–ø–∏—Å–∫–∞
  - –ï—Å–ª–∏ link_id –µ—Å—Ç—å ‚Üí —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
  - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ (–¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤—ã–∑–æ–≤–∞ —á–µ—Ä–µ–∑ —Å—Ç–∞—Ä–æ–µ –º–µ–Ω—é)

- [x] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `manage_interval()`:
  - –ï—Å–ª–∏ link_id –µ—Å—Ç—å ‚Üí —Å—Ä–∞–∑—É –∑–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
  - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫

- [x] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `manage_rename()`:
  - –ï—Å–ª–∏ link_id –µ—Å—Ç—å ‚Üí —Å—Ä–∞–∑—É –∑–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤–æ–µ –∏–º—è
  - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫

- [x] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `manage_pause()` –∏ `manage_resume()`:
  - –ï—Å–ª–∏ link_id –µ—Å—Ç—å ‚Üí –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –¥–ª—è —ç—Ç–æ–π —Å—Å—ã–ª–∫–∏
  - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫

- [x] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `manage_configure_parsing`:
  - –ï—Å–ª–∏ link_id –µ—Å—Ç—å ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è —ç—Ç–æ–π —Å—Å—ã–ª–∫–∏
  - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫

- [x] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `manage_force_check`:
  - –ï—Å–ª–∏ link_id –µ—Å—Ç—å ‚Üí –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç—É —Å—Å—ã–ª–∫—É
  - –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫

- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow:
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏ ‚Üí –ö–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –°—Å—ã–ª–∫–∞ ‚Üí –î–µ–π—Å—Ç–≤–∏–µ ‚Üí **–ë–ï–ó –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞**

### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```python
@router.callback_query(F.data == "manage_delete")
async def manage_delete(callback: CallbackQuery):
    try:
        user_id = callback.from_user.id

        # –ü–†–û–í–ï–†–Ø–ï–ú: –º–æ–∂–µ—Ç link_id —É–∂–µ –≤—ã–±—Ä–∞–Ω?
        if user_id in user_selections:
            link_id = user_selections[user_id]

            # –ü–æ–ª—É—á–∞–µ–º —Å—Å—ã–ª–∫—É –∏–∑ –ë–î
            with get_db_session() as db:
                link = db.query(ApiLink).filter(ApiLink.id == link_id).first()

                if link:
                    # –°–†–ê–ó–£ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
                    keyboard = InlineKeyboardMarkup(inline_keyboard=[
                        [InlineKeyboardButton(text="‚úÖ –î–∞, —É–¥–∞–ª–∏—Ç—å", callback_data=f"delete_link_{link_id}")],
                        [InlineKeyboardButton(text="‚ùå –û—Ç–º–µ–Ω–∞", callback_data="manage_cancel")]
                    ])

                    await callback.message.edit_text(
                        f"üóëÔ∏è <b>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫—É?</b>\n\n"
                        f"<b>–ù–∞–∑–≤–∞–Ω–∏–µ:</b> {link.name}\n"
                        f"<b>URL:</b> {link.url or link.api_url}\n\n"
                        f"‚ö†Ô∏è –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å!",
                        reply_markup=keyboard,
                        parse_mode="HTML"
                    )
                    await callback.answer()
                    return

        # –ï—Å–ª–∏ link_id –Ω–µ –≤—ã–±—Ä–∞–Ω - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ (—Å—Ç–∞—Ä–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
        push_navigation(callback.from_user.id, NAV_DELETE)

        with get_db_session() as db:
            links = db.query(ApiLink).all()
            # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –ø–æ–∫–∞–∑–∞ —Å–ø–∏—Å–∫–∞
```

---

## –ü—Ä–æ–±–ª–µ–º–∞ 4: –ö–Ω–æ–ø–∫–∏ –≤ –æ–≤–µ—Ä–ª–µ–µ, –Ω–æ –Ω–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏

### –û–ø–∏—Å–∞–Ω–∏–µ
–í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –∫–Ω–æ–ø–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–æ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–º –º–µ–Ω—é (overlay), –Ω–æ –Ω–µ –≤ —Å–∞–º–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –±–æ—Ç–∞.

### –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ö–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∞—Å—Ç—å—é —Å–æ–æ–±—â–µ–Ω–∏—è, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –≤ overlay

### –ó–∞–¥–∞—á–∏
- [ ] –ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è overlay –≤–º–µ—Å—Ç–æ inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `reply_markup` vs overlay –≤ –∫–æ–¥–µ
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–µ—Å—Ç–∞, –≥–¥–µ –∫–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

---

## –û–±—â–∏–µ –∑–∞–¥–∞—á–∏

- [ ] –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
  - –§—É–Ω–∫—Ü–∏—è `show_main_menu(message_or_callback)` - –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏
  - –§—É–Ω–∫—Ü–∏—è `show_cancel_menu(callback, text)` - –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–º–µ–Ω—É —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π

- [ ] –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
  - –¢–µ—Å—Ç: –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Üí inline –º–µ–Ω—é ‚Üí –Ω–∞–∑–∞–¥ –≤ –≥–ª–∞–≤–Ω–æ–µ ‚Üí –∫–Ω–æ–ø–∫–∏ –µ—Å—Ç—å
  - –¢–µ—Å—Ç: –≤—ã–±–æ—Ä —Å—Å—ã–ª–∫–∏ ‚Üí –¥–µ–π—Å—Ç–≤–∏–µ ‚Üí –ù–ï–¢ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
  - –¢–µ—Å—Ç: –æ—Ç–º–µ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è ‚Üí –∫–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –µ—Å—Ç—å

- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
  - –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ReplyKeyboard (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é)
  - –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å InlineKeyboard (–ø–æ–¥–º–µ–Ω—é, –¥–µ–π—Å—Ç–≤–∏—è)
  - –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ä–µ—à–µ–Ω–Ω–æ–π, –∫–æ–≥–¥–∞:

1. **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é**: –ü—Ä–∏ /start –∏ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –í–°–ï–ì–î–ê –≤–∏–¥–Ω—ã –∫–Ω–æ–ø–∫–∏
2. **–û—Ç–º–µ–Ω–∞**: –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –õ–Æ–ë–û–ì–û –¥–µ–π—Å—Ç–≤–∏—è –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ "‚¨ÖÔ∏è –ù–∞–∑–∞–¥" –∏ "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
3. **–î–≤–æ–π–Ω–æ–π –≤—ã–±–æ—Ä**: –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Å—Å—ã–ª–∫–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ë–ï–ó –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –≤–æ –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö –±–æ—Ç–∞

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç-–∫–µ–π—Å 1: –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å /start
2. **–û–∂–∏–¥–∞–Ω–∏–µ**: –í–∏–¥–Ω—ã –∫–Ω–æ–ø–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
3. –ó–∞–π—Ç–∏ –≤ –ª—é–±–æ–µ inline –º–µ–Ω—é
4. –ù–∞–∂–∞—Ç—å "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
5. **–û–∂–∏–¥–∞–Ω–∏–µ**: –í–∏–¥–Ω—ã –∫–Ω–æ–ø–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é

### –¢–µ—Å—Ç-–∫–µ–π—Å 2: –û—Ç–º–µ–Ω–∞
1. –ó–∞–π—Ç–∏ –≤ "‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏"
2. –í—ã–±—Ä–∞—Ç—å –ª—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
3. –ù–∞–∂–∞—Ç—å "‚ùå –û—Ç–º–µ–Ω–∞" (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥)
4. **–û–∂–∏–¥–∞–Ω–∏–µ**: –ï—Å—Ç—å –∫–Ω–æ–ø–∫–∏ "‚¨ÖÔ∏è –ù–∞–∑–∞–¥" –∏ "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤: –ø—Ä–æ–∫—Å–∏, UA, —Ä–æ—Ç–∞—Ü–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –¢–µ—Å—Ç-–∫–µ–π—Å 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–æ–π –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–∞
1. –ó–∞–π—Ç–∏ –≤ "‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏"
2. –í—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é "üí∞ –°—Ç–µ–π–∫–∏–Ω–≥"
3. –í—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Å—ã–ª–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "BybitEARN")
4. –ù–∞–∂–∞—Ç—å "üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫—É"
5. **–û–∂–∏–¥–∞–Ω–∏–µ**: –°—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –ë–ï–ó —Å–ø–∏—Å–∫–∞ —Å—Å—ã–ª–æ–∫
6. –ù–∞–∂–∞—Ç—å "‚ùå –û—Ç–º–µ–Ω–∞"
7. –ù–∞–∂–∞—Ç—å "‚è∞ –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª"
8. **–û–∂–∏–¥–∞–Ω–∏–µ**: –°—Ä–∞–∑—É –∑–∞–ø—Ä–æ—Å –Ω–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ –ë–ï–ó —Å–ø–∏—Å–∫–∞ —Å—Å—ã–ª–æ–∫

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–∞—Ç—å –≤ `bot/handlers.py`
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –¥–ª—è –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (–±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Å—Å—ã–ª–∫–∏)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
