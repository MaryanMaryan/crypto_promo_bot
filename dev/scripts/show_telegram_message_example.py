"""
Пример сообщения, которое бот будет отправлять в Telegram
"""
import sys
import os

# Устанавливаем UTF-8 для Windows
if sys.platform == 'win32':
    import io
    sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')

def create_telegram_message_bybit():
    """Создает пример Telegram сообщения для Bybit"""

    message = """<b>📊 ТЕКУЩИЕ СТЕЙКИНГИ</b>

🏦 <b>Биржа:</b> Bybit Earn
📈 <b>Найдено:</b> 24 стейкинга
✅ <b>Подходящих (APR ≥ 100%):</b> 8
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>1/5</b> 💰 <b>XENON</b>

📊 <b>APR:</b> 650.00% <i>(↑ +25.50%)</i>
🟢 <b>Заполненность:</b> 12.45% <i>(↑ +3.20%)</i>
💵 <b>Цена:</b> $0.0085 <i>(↑ +8.5%)</i>

📋 <b>Тип:</b> Fixed 3d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-15 18:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>2/5</b> 💰 <b>COSMOS</b>

📊 <b>APR:</b> 245.00% <i>(↓ -12.30%)</i>
🟡 <b>Заполненность:</b> 58.73% <i>(↑ +15.40%)</i>
💵 <b>Цена:</b> $1.2450 <i>(↑ +2.1%)</i>

📋 <b>Тип:</b> Fixed 7d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-18 12:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>3/5</b> 💰 <b>QUANTUM</b>

📊 <b>APR:</b> 180.00% <i>(↑ +8.00%)</i>
🟠 <b>Заполненность:</b> 85.20% <i>(↑ +22.50%)</i>
💵 <b>Цена:</b> $3.5670 <i>(↓ -1.8%)</i>

📋 <b>Тип:</b> Fixed 14d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-25 10:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>4/5</b> 💰 <b>STELLAR</b>

📊 <b>APR:</b> 125.50% <i>(—)</i>
🟡 <b>Заполненность:</b> 45.60% <i>(↓ -2.30%)</i>
💵 <b>Цена:</b> $0.4520 <i>(↑ +0.5%)</i>

📋 <b>Тип:</b> Flexible
✅ <b>Статус:</b> Active

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>5/5</b> 💰 <b>NEBULA</b>

📊 <b>APR:</b> 420.00% <i>(↑ +35.00%)</i>
🟢 <b>Заполненность:</b> 8.15% <i>(↑ +1.80%)</i>
💵 <b>Цена:</b> $12.3400 <i>(↑ +12.3%)</i>

📋 <b>Тип:</b> Fixed 30d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-02-09 08:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📄 <b>Страница 1 из 2</b>

💡 <i>Дельты показывают изменения с прошлой проверки</i>
🔗 <a href="https://www.bybit.com/earn/fixed-earn">Перейти на биржу</a>"""

    return message


def create_telegram_message_okx():
    """Создает пример Telegram сообщения для OKX"""

    message = """<b>📊 ТЕКУЩИЕ СТЕЙКИНГИ</b>

🏦 <b>Биржа:</b> OKX Flash Earn
📈 <b>Найдено:</b> 18 активных пулов
✅ <b>Подходящих (APR ≥ 5%):</b> 15
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>1/5</b> 💰 <b>AURORA</b>

📊 <b>APR:</b> 28.50% <i>(↑ +3.20%)</i>
💵 <b>Цена:</b> $2.1540 <i>(↑ +5.2%)</i>

📋 <b>Тип:</b> Flash Earn (Flexible)
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-30 00:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>2/5</b> 💰 <b>PHOENIX → USDT</b>

📊 <b>APR:</b> 15.80% <i>(↓ -1.50%)</i>
💵 <b>Цена:</b> $45.6700 <i>(↑ +1.9%)</i>

📋 <b>Тип:</b> Flash Earn (Flexible)
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-02-05 00:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>3/5</b> 💰 <b>GALAXY</b>

📊 <b>APR:</b> 22.30% <i>(↑ +2.80%)</i>
💵 <b>Цена:</b> $0.8920 <i>(↓ -0.8%)</i>

📋 <b>Тип:</b> Flash Earn (Flexible)
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-28 00:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>4/5</b> 💰 <b>ORBIT</b>

📊 <b>APR:</b> 18.90% <i>(↑ +4.10%)</i>
💵 <b>Цена:</b> $6.7800 <i>(↑ +6.2%)</i>

📋 <b>Тип:</b> Flash Earn (Flexible)
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-02-10 00:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>5/5</b> 💰 <b>METEOR</b>

📊 <b>APR:</b> 12.40% <i>(↓ -2.30%)</i>
💵 <b>Цена:</b> $14.5600 <i>(↓ -1.2%)</i>

📋 <b>Тип:</b> Flash Earn (Flexible)
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-22 00:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📄 <b>Страница 1 из 3</b>

💡 <i>OKX не предоставляет данные о заполненности пулов</i>
🔗 <a href="https://www.okx.com/earn/flash-deals">Перейти на биржу</a>"""

    return message


def create_telegram_message_high_fill():
    """Пример с критической заполненностью (алерт)"""

    message = """<b>📊 ТЕКУЩИЕ СТЕЙКИНГИ</b>

🏦 <b>Биржа:</b> Bybit Earn
📈 <b>Найдено:</b> 24 стейкинга
✅ <b>Подходящих (APR ≥ 100%):</b> 8
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>1/5</b> 💰 <b>PULSAR</b>

📊 <b>APR:</b> 780.00% <i>(↑ +45.00%)</i>
🔴 <b>Заполненность:</b> 94.85% <i>(↑ +18.40%)</i>
💵 <b>Цена:</b> $0.0245 <i>(↑ +15.7%)</i>

📋 <b>Тип:</b> Fixed 1d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-11 23:59

⚠️ <b>ВНИМАНИЕ!</b> Пул почти заполнен!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>2/5</b> 💰 <b>ECLIPSE</b>

📊 <b>APR:</b> 520.00% <i>(↑ +12.50%)</i>
🟠 <b>Заполненность:</b> 72.30% <i>(↑ +25.10%)</i>
💵 <b>Цена:</b> $1.8900 <i>(↑ +4.2%)</i>

📋 <b>Тип:</b> Fixed 5d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-16 10:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>3/5</b> 💰 <b>VORTEX</b>

📊 <b>APR:</b> 350.00% <i>(—)</i>
🟢 <b>Заполненность:</b> 5.60% <i>(—)</i>
💵 <b>Цена:</b> $8.4500 <i>(↑ +1.5%)</i>

📋 <b>Тип:</b> Fixed 10d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-21 15:00

🆕 <i>Новый стейкинг!</i>

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>4/5</b> 💰 <b>ZENITH</b>

📊 <b>APR:</b> 195.00% <i>(↓ -25.00%)</i>
🟡 <b>Заполненность:</b> 51.20% <i>(↑ +8.70%)</i>
💵 <b>Цена:</b> $3.2100 <i>(↓ -5.3%)</i>

📋 <b>Тип:</b> Fixed 7d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-19 20:00

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>5/5</b> 💰 <b>SUPERNOVA</b>

📊 <b>APR:</b> 890.00% <i>(↑ +120.00%)</i>
🟢 <b>Заполненность:</b> 18.90% <i>(↑ +5.30%)</i>
💵 <b>Цена:</b> $0.1250 <i>(↑ +28.4%)</i>

📋 <b>Тип:</b> Fixed 3d
✅ <b>Статус:</b> Active
⏰ <b>Окончание:</b> 2026-01-14 12:00

🔥 <i>APR резко вырос!</i>

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📄 <b>Страница 1 из 2</b>

💡 <i>Дельты показывают изменения с прошлой проверки</i>
🔗 <a href="https://www.bybit.com/earn/fixed-earn">Перейти на биржу</a>"""

    return message


def create_settings_message():
    """Пример сообщения настройки фильтра APR"""

    message = """<b>⚙️ НАСТРОЙКА ФИЛЬТРА APR</b>

🏦 <b>Биржа:</b> Bybit Earn
📌 <b>Текущий минимальный APR:</b> 100%

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>Выберите новое значение:</b>

• Быстрые значения: используйте кнопки ниже
• Свой вариант: введите число (например, 75)

💡 <i>Будут показаны только стейкинги с APR ≥ выбранного значения</i>

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

<b>Примеры фильтрации:</b>

APR ≥ 1% → показать всё
APR ≥ 50% → средние ставки
APR ≥ 100% → высокие ставки
APR ≥ 500% → только экстремальные

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"""

    return message


if __name__ == "__main__":
    print("\n" + "="*80)
    print("📱 ПРИМЕРЫ СООБЩЕНИЙ, КОТОРЫЕ БОТ БУДЕТ ПРИСЫЛАТЬ В TELEGRAM")
    print("="*80)

    # Пример 1: Bybit
    print("\n\n" + "▼"*40)
    print("ПРИМЕР 1: BYBIT - ОБЫЧНЫЙ СПИСОК")
    print("▼"*40 + "\n")
    print(create_telegram_message_bybit())

    # Пример 2: OKX
    print("\n\n" + "▼"*40)
    print("ПРИМЕР 2: OKX - БЕЗ ЗАПОЛНЕННОСТИ")
    print("▼"*40 + "\n")
    print(create_telegram_message_okx())

    # Пример 3: С алертами
    print("\n\n" + "▼"*40)
    print("ПРИМЕР 3: BYBIT - С КРИТИЧЕСКОЙ ЗАПОЛНЕННОСТЬЮ И НОВЫМИ СТЕЙКИНГАМИ")
    print("▼"*40 + "\n")
    print(create_telegram_message_high_fill())

    # Пример 4: Настройки
    print("\n\n" + "▼"*40)
    print("ПРИМЕР 4: ДИАЛОГ НАСТРОЙКИ ФИЛЬТРА APR")
    print("▼"*40 + "\n")
    print(create_settings_message())

    print("\n\n" + "="*80)
    print("📋 КНОПКИ ПОД СООБЩЕНИЯМИ:")
    print("="*80)
    print("\n1️⃣ СПИСОК СТЕЙКИНГОВ:")
    print("   [⬅️ Назад] [Вперед ➡️]")
    print("   [🔄 Обновить] [⚙️ Настройки]")
    print("   [❌ Закрыть]")

    print("\n2️⃣ НАСТРОЙКА APR:")
    print("   [1%] [5%] [10%] [20%] [50%]")
    print("   [100%] [200%] [500%]")
    print("   [✏️ Свой вариант] [❌ Отмена]")

    print("\n\n" + "="*80)
    print("✅ ВСЕ ПРИМЕРЫ ПОКАЗАНЫ")
    print("="*80)

    print("\n💡 ОСОБЕННОСТИ:")
    print("  • HTML разметка для красивого форматирования")
    print("  • Emoji индикаторы для быстрого визуального анализа")
    print("  • Цветные точки для заполненности: 🟢🟡🟠🔴")
    print("  • Стрелки для дельт: ↑ (рост) ↓ (падение) — (без изменений)")
    print("  • Inline кнопки для навигации и настроек")
    print("  • Ссылки на страницы бирж")
    print("  • Алерты для критических значений (⚠️ почти заполнен, 🔥 резкий рост)")
